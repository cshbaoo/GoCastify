# Go2TV - DLNA投屏工具

Go2TV是一款基于Go语言开发的DLNA投屏工具，允许用户轻松将本地媒体文件（视频、音频）投射到支持DLNA的设备上，如智能电视、音响等。

## 功能特性

- 📺 支持视频文件投屏播放
- 🎵 支持音频文件投屏播放
- 📝 支持字幕文件选择和投屏
- 🔍 自动发现局域网内的DLNA设备
- 🎯 支持多音轨选择
- 💻 简洁直观的用户界面
- 🌐 内置HTTP媒体服务器
- ⚡ 高效的媒体转码功能（基于FFmpeg）

## 技术栈

- **后端语言**: Go
- **UI框架**: fyne.io
- **媒体转码**: FFmpeg
- **网络协议**: DLNA/UPnP
- **构建工具**: Go Modules

## 安装方法

### 前提条件

- 安装Go 1.18或更高版本
- 安装FFmpeg（用于媒体转码）

### 编译安装

```bash
# 克隆仓库
git clone https://github.com/cshbaoo/go2tv.git
cd go2tv

# 编译项目
go build

# 运行应用
./go2tv
```

## 使用说明

1. 启动Go2TV应用程序
2. 应用会自动搜索局域网内的DLNA设备
3. 点击"选择文件"按钮，选择要投屏的媒体文件
4. 可选：点击"选择音轨"按钮，选择要使用的音频轨道
5. 可选：点击"选择字幕"按钮，选择要使用的字幕文件
6. 选择目标DLNA设备
7. 点击"开始投屏"按钮开始播放

## 项目结构

```
go2tv/
├── app/           # 应用程序核心逻辑
│   └── app.go     # 应用主逻辑实现
├── discovery/     # DLNA设备发现
│   └── ssdp.go    # SSDP协议实现
├── dlna/          # DLNA控制功能
│   └── control.go # DLNA设备控制
├── server/        # 媒体服务器
│   └── media_server.go # HTTP媒体服务器实现
├── transcoder/    # 媒体转码功能
│   └── transcoder.go # 基于FFmpeg的转码实现
├── ui/            # 用户界面
│   └── ui.go      # UI实现
├── go.mod         # Go模块定义
├── go.sum         # 依赖版本锁定
└── main.go        # 程序入口
```

## 开发说明

### 依赖管理

项目使用Go Modules进行依赖管理：

```bash
# 安装依赖
go mod tidy

# 更新依赖
go get -u
```

### 开发流程

1. Fork并克隆仓库
2. 创建新的功能分支
3. 实现功能或修复bug
4. 确保代码可以正常编译
5. 提交代码并创建Pull Request

## 许可证

本项目采用MIT许可证 - 详情请查看LICENSE文件

## 注意事项

- 确保您的设备和目标DLNA设备在同一局域网内
- 某些受版权保护的媒体文件可能无法通过DLNA投射
- 媒体文件的投屏质量可能受到网络带宽的影响
- 如需更好的投屏体验，建议使用有线网络连接